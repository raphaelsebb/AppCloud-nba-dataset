<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>NBA Results Dataset {{title}}</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/png" href="images/pic01.jpg" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<span class="logo"><img src="images/pic01.jpg" alt="" /></span>
						<h1>NBA Results Dataset</h1>
						<p>Application Cloud
							Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
						</p>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul>
							<li><a href="/">Home</a></li>
							<li><a href="#intro" class="active">Select Team</a></li>
							<li><a href="#teamMembers">Team Members</a></li>
							<li><a href="#matchs">Infos Matchs</a></li>
							<li><a href="#cta">Get Started</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Introduction -->
							<section id="intro" class="main">
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>{{title}}</h2>
										</header>

										{{#if teams}}
										<div class="select-wrapper">
											<select name="teamList" id="teamList" onchange="selectTeam()">
												<option selected value="">- Select a team -</option>
												{{#each teams}}
													<option value="{{this.TeamId}}">{{this.TeamId}}, {{this.TeamName}}</option>
										    {{/each}}
											</select>
										</div>
										{{/if}}

									</div>
									<span class="image"><img src="images/pic01.jpg" alt="" /></span>
								</div>
							</section>

							<section class="main" id="teamMembers">
								<header class="major">
									<h2>Team name</h2>
								</header>
								<div class="table-wrapper">
									<table>
										<thead>
											<tr>
												<th>ID</th>
												<th>Name</th>
												<th>Team</th>
											</tr>
										</thead>
										<tbody>
										</tbody>
									</table>
								</div>
							</section>

						<!-- Second Section -->
							<section id="matchs" class="main special">
								<header class="major">
									<h2>Ipsum consequat</h2>
									<p>Donec imperdiet consequat consequat. Suspendisse feugiat congue<br />
									posuere. Nulla massa urna, fermentum eget quam aliquet.</p>
								</header>
								<ul class="statistics">
									<li class="style1">
										<span class="icon fa-thumbs-o-up"></span>
										<strong>5,120</strong> Win
									</li>
									<li class="style2">
										<span class="icon fa-minus-square-o"></span>
										<strong>2,048</strong> Draw
									</li>
									<li class="style3">
										<span class="icon fa-thumbs-o-down"></span>
										<strong>8,192</strong> Lose
									</li>
								</ul>
								<p class="content">Nam elementum nisl et mi a commodo porttitor. Morbi sit amet nisl eu arcu faucibus hendrerit vel a risus. Nam a orci mi, elementum ac arcu sit amet, fermentum pellentesque et purus. Integer maximus varius lorem, sed convallis diam accumsan sed. Etiam porttitor placerat sapien, sed eleifend a enim pulvinar faucibus semper quis ut arcu. Ut non nisl a mollis est efficitur vestibulum. Integer eget purus nec nulla mattis et accumsan ut magna libero. Morbi auctor iaculis porttitor. Sed ut magna ac risus et hendrerit scelerisque. Praesent eleifend lacus in lectus aliquam porta. Cras eu ornare dui curabitur lacinia.</p>
								<footer class="major">
									<ul class="actions">
										<li><a href="generic.html" class="button">Learn More</a></li>
									</ul>
								</footer>
							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
			<script type="text/javascript">
				$("#teamMembers").hide();
				$("#matchs").hide();

				function selectTeam() {
					var team = $("#teamList").val();
					if (team != "") {
						var json_url = '/team'+team;
						$.getJSON(json_url, function(data) {
							//console.log(data);
							$("#teamMembers tbody").empty();
							var count = 0;
							$.each(data.result, function(index, value) {
								count ++;
							   console.log(value.playerInfo.PlayerName);
								 $("#teamMembers").show();
								 $("#teamMembers h2").text(value.teamInfo.TeamName);
								 $("#teamMembers tbody").append( "<tr><td>"+value.playerInfo.PlayerId+"</td><td><a href='/player"+value.playerInfo.PlayerId+"'>"+value.playerInfo.PlayerName+"</a></td><td>"+value.teamInfo.TeamName+"</td></tr>" );
							});
							$("a[href=#teamMembers]").click();
							$("#teamMembers h2").append("<span class='count'>("+count+" membres)</span>")
							console.log(count);
						});
					}
					else {
						$("#teamMembers").hide();
					}
				}
			</script>
	</body>
</html>
